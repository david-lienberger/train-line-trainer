import{s as O,n as A,r as X,o as Y}from"../chunks/scheduler.Bmg8oFKD.js";import{S as P,i as U,e as q,t as D,s as j,c as E,a as V,b as I,d as m,f as z,o as $,p as S,z as H,g as F,h as d,A as C,j as k,B as Z,n as T,q as y,l as B,m as x,u as K,v as Q,w as R,x as W}from"../chunks/index.Biv9UEUw.js";function L(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function M(n,e,t){const l=n.slice();return l[3]=e[t],l}function G(n){let e,t,l=n[3].lineflowstops[0].station_label+"",s,c,i=n[3].lineflowstops[0].departure_minute+"",p,h,g=n[3].lineflowstops[n[3].lineflowstops.length-1].station_label+"",b,_,u=n[3].lineflowstops[n[3].lineflowstops.length-1].arrival_minute+"",f,o,a;return{c(){e=q("div"),t=q("div"),s=D(l),c=D(" ("),p=D(i),h=D(`)
						-
						`),b=D(g),_=D(" ("),f=D(u),o=D(")"),a=j(),this.h()},l(r){e=E(r,"DIV",{class:!0});var v=V(e);t=E(v,"DIV",{class:!0});var w=V(t);s=I(w,l),c=I(w," ("),p=I(w,i),h=I(w,`)
						-
						`),b=I(w,g),_=I(w," ("),f=I(w,u),o=I(w,")"),w.forEach(m),a=z(v),v.forEach(m),this.h()},h(){$(t,"class","line-flow-stop"),$(e,"class","base-tact")},m(r,v){F(r,e,v),d(e,t),d(t,s),d(t,c),d(t,p),d(t,h),d(t,b),d(t,_),d(t,f),d(t,o),d(e,a)},p(r,v){v&1&&l!==(l=r[3].lineflowstops[0].station_label+"")&&k(s,l),v&1&&i!==(i=r[3].lineflowstops[0].departure_minute+"")&&k(p,i),v&1&&g!==(g=r[3].lineflowstops[r[3].lineflowstops.length-1].station_label+"")&&k(b,g),v&1&&u!==(u=r[3].lineflowstops[r[3].lineflowstops.length-1].arrival_minute+"")&&k(f,u)},d(r){r&&m(e)}}}function ee(n){let e,t,l,s,c=n[0].label+"",i,p,h,g,b,_=L(n[0].basetacts),u=[];for(let f=0;f<_.length;f+=1)u[f]=G(M(n,_,f));return{c(){e=q("button"),t=q("div"),l=q("div"),s=q("h2"),i=D(c),p=j(),h=q("div");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=E(f,"BUTTON",{tabindex:!0,class:!0});var o=V(e);t=E(o,"DIV",{class:!0});var a=V(t);l=E(a,"DIV",{class:!0});var r=V(l);s=E(r,"H2",{class:!0,style:!0});var v=V(s);i=I(v,c),v.forEach(m),r.forEach(m),p=z(a),h=E(a,"DIV",{class:!0});var w=V(h);for(let N=0;N<u.length;N+=1)u[N].l(w);w.forEach(m),a.forEach(m),o.forEach(m),this.h()},h(){$(s,"class","line-label"),S(s,"background-color",n[0].color),$(l,"class","flash-card-front svelte-1qv0qu5"),$(h,"class","flash-card-back svelte-1qv0qu5"),$(t,"class","flash-card-inner svelte-1qv0qu5"),H(t,"flipped",n[1]),$(e,"tabindex","0"),$(e,"class","blurred-card svelte-1qv0qu5")},m(f,o){F(f,e,o),d(e,t),d(t,l),d(l,s),d(s,i),d(t,p),d(t,h);for(let a=0;a<u.length;a+=1)u[a]&&u[a].m(h,null);g||(b=C(e,"click",n[2]),g=!0)},p(f,[o]){if(o&1&&c!==(c=f[0].label+"")&&k(i,c),o&1&&S(s,"background-color",f[0].color),o&1){_=L(f[0].basetacts);let a;for(a=0;a<_.length;a+=1){const r=M(f,_,a);u[a]?u[a].p(r,o):(u[a]=G(r),u[a].c(),u[a].m(h,null))}for(;a<u.length;a+=1)u[a].d(1);u.length=_.length}o&2&&H(t,"flipped",f[1])},i:A,o:A,d(f){f&&m(e),Z(u,f),g=!1,b()}}}function te(n,e,t){let{line:l}=e,s=!1;const c=()=>{t(1,s=!s)};return n.$$set=i=>{"line"in i&&t(0,l=i.line)},[l,s,c]}class le extends P{constructor(e){super(),U(this,e,te,ee,O,{line:0})}}function J(n){let e,t;return e=new le({props:{line:n[3]}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const c={};s&8&&(c.line=l[3]),e.$set(c)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function se(n){let e,t,l,s,c,i,p,h,g,b,_,u,f,o=n[0]&&J(n);return{c(){e=q("div"),o&&o.c(),t=j(),l=q("div"),s=q("button"),c=D("Vorherige"),p=j(),h=q("button"),g=D("Nächste"),this.h()},l(a){e=E(a,"DIV",{id:!0,class:!0});var r=V(e);o&&o.l(r),t=z(r),l=E(r,"DIV",{id:!0,class:!0});var v=V(l);s=E(v,"BUTTON",{});var w=V(s);c=I(w,"Vorherige"),w.forEach(m),p=z(v),h=E(v,"BUTTON",{});var N=V(h);g=I(N,"Nächste"),N.forEach(m),v.forEach(m),r.forEach(m),this.h()},h(){s.disabled=i=!n[1],h.disabled=b=!n[2],$(l,"id","controls"),$(l,"class","svelte-1xeq6zj"),$(e,"id","flash-cards"),$(e,"class","svelte-1xeq6zj")},m(a,r){F(a,e,r),o&&o.m(e,null),d(e,t),d(e,l),d(l,s),d(s,c),d(l,p),d(l,h),d(h,g),_=!0,u||(f=[C(s,"click",n[5]),C(h,"click",n[4])],u=!0)},p(a,[r]){a[0]?o?(o.p(a,r),r&1&&T(o,1)):(o=J(a),o.c(),T(o,1),o.m(e,t)):o&&(y(),B(o,1,1,()=>{o=null}),x()),(!_||r&2&&i!==(i=!a[1]))&&(s.disabled=i),(!_||r&4&&b!==(b=!a[2]))&&(h.disabled=b)},i(a){_||(T(o),_=!0)},o(a){B(o),_=!1},d(a){a&&m(e),o&&o.d(),u=!1,X(f)}}}function ne(n,e,t){let l,s,c,{data:i}=e,p=0;const h=()=>{c&&t(6,p++,p)},g=()=>{s&&t(6,p--,p)};return n.$$set=b=>{"data"in b&&t(0,i=b.data)},n.$$.update=()=>{n.$$.dirty&65&&t(3,l=i==null?void 0:i.general.all_lines[p]),n.$$.dirty&65&&t(1,s=i&&p>=1),n.$$.dirty&65&&t(2,c=i&&(i==null?void 0:i.general.all_lines.length)-1>p)},[i,s,c,l,h,g,p]}class ae extends P{constructor(e){super(),U(this,e,ne,se,O,{data:0})}}function oe(n){let e,t,l;return t=new ae({props:{data:n[0]}}),{c(){e=q("div"),K(t.$$.fragment)},l(s){e=E(s,"DIV",{});var c=V(e);Q(t.$$.fragment,c),c.forEach(m)},m(s,c){F(s,e,c),R(t,e,null),l=!0},p(s,[c]){const i={};c&1&&(i.data=s[0]),t.$set(i)},i(s){l||(T(t.$$.fragment,s),l=!0)},o(s){B(t.$$.fragment,s),l=!1},d(s){s&&m(e),W(t)}}}function ie(n,e,t){let l=null;return Y(async()=>{const s=await fetch("./netzplan-data.json");t(0,l=await s.json())}),[l]}class fe extends P{constructor(e){super(),U(this,e,ie,oe,O,{})}}export{fe as component};
